(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f820fa5"],{"229f":function(e,t,a){"use strict";a("fe25")},"99af":function(e,t,a){"use strict";var r=a("23e7"),s=a("da84"),o=a("d039"),n=a("e8b5"),i=a("861d"),l=a("7b0b"),c=a("07fa"),d=a("8418"),u=a("65f0"),f=a("1dde"),m=a("b622"),h=a("2d00"),p=m("isConcatSpreadable"),b=9007199254740991,g="Maximum allowed index exceeded",v=s.TypeError,w=h>=51||!o((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),_=f("concat"),y=function(e){if(!i(e))return!1;var t=e[p];return void 0!==t?!!t:n(e)},S=!w||!_;r({target:"Array",proto:!0,forced:S},{concat:function(e){var t,a,r,s,o,n=l(this),i=u(n,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?n:arguments[t],y(o)){if(s=c(o),f+s>b)throw v(g);for(a=0;a<s;a++,f++)a in o&&d(i,f,o[a])}else{if(f>=b)throw v(g);d(i,f++,o)}return i.length=f,i}})},a434:function(e,t,a){"use strict";var r=a("23e7"),s=a("da84"),o=a("23cb"),n=a("5926"),i=a("07fa"),l=a("7b0b"),c=a("65f0"),d=a("8418"),u=a("1dde"),f=u("splice"),m=s.TypeError,h=Math.max,p=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var a,r,s,u,f,v,w=l(this),_=i(w),y=o(e,_),S=arguments.length;if(0===S?a=r=0:1===S?(a=0,r=_-y):(a=S-2,r=p(h(n(t),0),_-y)),_+a-r>b)throw m(g);for(s=c(w,r),u=0;u<r;u++)f=y+u,f in w&&d(s,u,w[f]);if(s.length=r,a<r){for(u=y;u<_-r;u++)f=u+r,v=u+a,f in w?w[v]=w[f]:delete w[v];for(u=_;u>_-r+a;u--)delete w[u-1]}else if(a>r)for(u=_-r;u>y;u--)f=u+r-1,v=u+a-1,f in w?w[v]=w[f]:delete w[v];for(u=0;u<a;u++)w[u+y]=arguments[u+2];return w.length=_-r+a,s}})},b0c0:function(e,t,a){var r=a("83ab"),s=a("5e77").EXISTS,o=a("e330"),n=a("9bf2").f,i=Function.prototype,l=o(i.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=o(c.exec),u="name";r&&!s&&n(i,u,{configurable:!0,get:function(){try{return d(c,l(this))[1]}catch(e){return""}}})},c62e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info"},[a("div",{staticClass:"cards"},[a("div",{staticClass:"cards-header"},[e._v("常用乘车人")]),a("div",{staticClass:"cards-body"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"index",label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),a("el-table-column",{attrs:{prop:"card_type",label:"证件类型"}}),a("el-table-column",{attrs:{prop:"card_number",label:"证件号码"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return e.handleEdit(t.$index)}}},[e._v(" 修改 ")]),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return e.handleDelete(t.$index)}}},[e._v(" 删除 ")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:e.total,background:"","page-size":e.queryForm.size},on:{"current-change":e.handleCurrentChange}})],1),a("div",{staticClass:"add"},[a("a",{attrs:{href:"#"},on:{click:function(t){e.isShow=!e.isShow}}},[e._v("添加常用乘车人")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"form"},[a("div",{staticClass:"inner"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓 名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"证件类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.power,callback:function(t){e.$set(e.form,"power",t)},expression:"form.power"}},[a("el-option",{attrs:{value:"身份证"}},[e._v("身份证")]),a("el-option",{attrs:{value:"军人证"}},[e._v("军人证")]),a("el-option",{attrs:{value:"护照"}},[e._v("护照")])],1)],1),a("el-form-item",{attrs:{label:"证件号"}},[a("el-input",{model:{value:e.form.idNumber,callback:function(t){e.$set(e.form,"idNumber",t)},expression:"form.idNumber"}})],1),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"danger"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)])],1),a("el-dialog",{attrs:{visible:e.isShowEdit,width:"30%"},on:{"update:visible":function(t){e.isShowEdit=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓 名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"证件类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.power,callback:function(t){e.$set(e.form,"power",t)},expression:"form.power"}},[a("el-option",{attrs:{value:"身份证"}},[e._v("身份证")]),a("el-option",{attrs:{value:"军人证"}},[e._v("军人证")]),a("el-option",{attrs:{value:"护照"}},[e._v("护照")])],1)],1),a("el-form-item",{attrs:{label:"证件号"}},[a("el-input",{model:{value:e.form.idNumber,callback:function(t){e.$set(e.form,"idNumber",t)},expression:"form.idNumber"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.isShowEdit=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("确 定")])],1)],1)],1)])},s=[],o=(a("b0c0"),a("a434"),a("99af"),a("5c96")),n={data:function(){return{tableData:[],isShow:!1,form:{name:"",power:"身份证",idNumber:""},queryForm:{page:1,size:6},isShowEdit:!1,total:0}},mounted:function(){this._getPassagers()},methods:{handleEdit:function(e){this.passenger_id=this.tableData[e].passenger_id,this.isShowEdit=!0,this.form={power:this.tableData[e].card_type,name:this.tableData[e].name,idNumber:this.tableData[e].card_number}},handleCurrentChange:function(e){this.queryForm.page=e,this._getPassagers()},handleDelete:function(e){this._delete({passenger_id:this.tableData[e].passenger_id},e)},handleSave:function(){var e=this.form,t=e.name,a=e.power,r=e.idNumber;t?r?this._edit({name:t,card_number:r,card_type:a,passenger_id:this.passenger_id}):o["Message"].error("证件号不能为空"):o["Message"].error("姓名不能为空")},submit:function(){var e=this.form,t=e.name,a=e.power,r=e.idNumber;t?r?this._add({name:t,card_number:r,card_type:a}):o["Message"].error("证件号不能为空"):o["Message"].error("姓名不能为空")},_delete:function(e,t){var a=this;this.$http.request({url:"/userCenter/deletePassager",method:"get",params:e}).then((function(e){console.log(e.data),1e4===e.data.code&&(o["Message"].success("删除成功"),a.tableData.splice(t,1))}))},_add:function(e){var t=this;this.$http.request({url:"/userCenter/addPassager",method:"post",data:e}).then((function(e){console.log(e.data),1e4===e.data.code&&(o["Message"].success("添加成功"),t.isShow=!1,t._getPassagers())}))},_edit:function(e){var t=this;this.$http.request({url:"/userCenter/modifyPassager",method:"post",data:e}).then((function(e){console.log(e.data),1e4===e.data.code&&(o["Message"].success("修改成功"),t.isShowEdit=!1,t._getPassagers())}))},_getPassagers:function(){var e=this;this.$http.request({url:"/userCenter/getPassagers?page=".concat(this.queryForm.page,"&size=").concat(this.queryForm.size),method:"get"}).then((function(t){console.log(t.data),e.tableData=t.data.data.passager_list,e.total=t.data.total}))}}},i=n,l=(a("229f"),a("2877")),c=Object(l["a"])(i,r,s,!1,null,"908cd1dc",null);t["default"]=c.exports},fe25:function(e,t,a){}}]);
//# sourceMappingURL=chunk-3f820fa5.d82aa41f.js.map