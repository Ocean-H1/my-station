{"version":3,"sources":["webpack:///./src/components/content/Map/map.vue?5cba","webpack:///./src/views/stationMap/stationMap.vue?12d0","webpack:///./src/components/content/Map/map.vue?46f8","webpack:///src/components/content/Map/map.vue","webpack:///./src/components/content/Map/map.vue?ed6f","webpack:///./src/components/content/Map/map.vue","webpack:///src/views/stationMap/stationMap.vue","webpack:///./src/views/stationMap/stationMap.vue?ba35","webpack:///./src/views/stationMap/stationMap.vue","webpack:///./src/views/stationMap/stationMap.vue?8a40"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","stationList","scopedSlots","_u","key","fn","scope","on","$event","switchStation","row","_s","station_name","model","value","callback","$$v","renderComponent","expression","staticStyle","stationTime","staticRenderFns","_m","name","mounted","baiduMap","methods","map","centerAndZoom","gpsPoint","enableScrollWheelZoom","addControl","scaleCtrl","zoomCtrl","cityCtrl","data","status","addOverlay","marker","setCenter","points","opts","width","height","title","infoWindow","BMapGL","InfoWindow","address","openInfoWindow","setTimeout","pointArr","push","convertor","translate","translateCallback","component","components","$store","state","activeStation","commit","$nextTick","then"],"mappings":"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","file":"js/chunk-6e4da0da.b6479bb4.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=style&index=0&id=31d2c47a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"stationMap\"},[_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"车站列表\")]),_c('el-table',{attrs:{\"data\":_vm.stationList,\"size\":\"large\",\"stripe\":\"\",\"show-header\":false,\"height\":\"80vh\"}},[_c('el-table-column',{attrs:{\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"staInfo\",on:{\"click\":function($event){return _vm.switchStation(scope.row)}}},[_vm._v(_vm._s(scope.row.station_name))])]}}])})],1)],1),_c('div',{staticClass:\"MapContainer\"},[_c('el-switch',{attrs:{\"active-text\":\"车站地图\",\"inactive-text\":\"车站时刻表\"},model:{value:(_vm.renderComponent),callback:function ($$v) {_vm.renderComponent=$$v},expression:\"renderComponent\"}}),(_vm.renderComponent)?_c('Map'):_c('div',{staticClass:\"stime\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.stationTime,\"border\":\"\",\"height\":\"520\"}},[_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"始发站\",\"width\":\"160\"}}),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"目的地\",\"width\":\"160\"}}),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"发车时间\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"班次类型\",\"width\":\"160\"}})],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Map\"},[_c('div',{attrs:{\"id\":\"container\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"Map\">\r\n    <!-- 放置地图的容器 -->\r\n    <div id=\"container\"></div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n  name: 'Map',\r\n  mounted() {\r\n    this.baiduMap()\r\n  },\r\n  methods: {\r\n    baiduMap() {\r\n      // 创建地图实例\r\n      let map = new BMapGL.Map('container')\r\n      // 定义中心坐标信息\r\n      let x = this.$store.state.activeStation.longitude\r\n      let y = this.$store.state.activeStation.latitude\r\n      let address = this.$store.state.activeStation.station_address\r\n      let title = this.$store.state.activeStation.station_name\r\n\r\n      // 创建点坐标(GPS)\r\n      let gpsPoint = new BMapGL.Point(x, y)\r\n\r\n      // 初始化地图，设置中心点坐标和地图级别\r\n      map.centerAndZoom(gpsPoint, 16)\r\n      //开启鼠标滚轮缩放\r\n      map.enableScrollWheelZoom(true)\r\n\r\n      let scaleCtrl = new BMapGL.ScaleControl() // 添加比例尺控件\r\n      map.addControl(scaleCtrl)\r\n      let zoomCtrl = new BMapGL.ZoomControl() // 添加缩放控件\r\n      map.addControl(zoomCtrl)\r\n      let cityCtrl = new BMapGL.CityListControl() // 添加城市列表控件\r\n      map.addControl(cityCtrl)\r\n\r\n      // 转换GPS为BD坐标\r\n      let translateCallback = function (data) {\r\n        if (data.status === 0) {\r\n          let marker = new BMapGL.Marker(data.points[0])\r\n          map.addOverlay(marker)\r\n          map.setCenter(data.points[0])\r\n          var opts = {\r\n            width: 300, // 信息窗口宽度\r\n            height: 120, // 信息窗口高度\r\n            title, // 信息窗口标题\r\n          }\r\n          var infoWindow = new BMapGL.InfoWindow(address, opts) // 创建信息窗口对象\r\n          map.openInfoWindow(infoWindow, data.points[0]) //开启信息窗口\r\n        }\r\n      }\r\n      setTimeout(() => {\r\n        let convertor = new BMapGL.Convertor()\r\n        let pointArr = []\r\n\r\n        pointArr.push(gpsPoint)\r\n        convertor.translate(pointArr, 3, 5, translateCallback)\r\n      }, 200)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.Map {\r\n  width: 90%;\r\n}\r\n#container {\r\n  height: 80vh;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./map.vue?vue&type=template&id=31d2c47a&scoped=true&\"\nimport script from \"./map.vue?vue&type=script&lang=js&\"\nexport * from \"./map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./map.vue?vue&type=style&index=0&id=31d2c47a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31d2c47a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"stationMap\">\r\n    <!-- 侧边车站列表 -->\r\n    <div class=\"list\">\r\n      <div class=\"title\">车站列表</div>\r\n      <el-table\r\n        :data=\"stationList\"\r\n        size=\"large\"\r\n        stripe\r\n        :show-header=\"false\"\r\n        height=\"80vh\"\r\n      >\r\n        <el-table-column align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span class=\"staInfo\" @click=\"switchStation(scope.row)\">{{\r\n              scope.row.station_name\r\n            }}</span>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <!-- 地图容器 -->\r\n    <div class=\"MapContainer\">\r\n      <!-- 切换按钮 -->\r\n      <el-switch\r\n        v-model=\"renderComponent\"\r\n        active-text=\"车站地图\"\r\n        inactive-text=\"车站时刻表\"\r\n      >\r\n      </el-switch>\r\n      <!-- 地图 -->\r\n      <Map v-if=\"renderComponent\"></Map>\r\n      <!-- 车站时刻表 -->\r\n      <div v-else class=\"stime\">\r\n        <el-table :data=\"stationTime\" style=\"width: 100%\" border height=\"520\">\r\n          <el-table-column prop=\"\" label=\"始发站\" width=\"160\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"\" label=\"目的地\" width=\"160\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"\" label=\"发车时间\" width=\"200\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"\" label=\"班次类型\" width=\"160\">\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Map from '../../components/content/Map/map'\r\n\r\nexport default {\r\n  components: { Map },\r\n  name: 'stationMap',\r\n  data() {\r\n    return {\r\n      stationList: this.$store.state.stationList,\r\n      renderComponent: true,\r\n      stationTime: [],\r\n    }\r\n  },\r\n  methods: {\r\n    // 用户点击车站列表，改变地图中心\r\n    switchStation(activeStation) {\r\n      if (activeStation === this.$store.state.activeStation) return\r\n      this.$store.commit('setPosition', activeStation)\r\n      // 在用户点击后实现强制刷新(利用了v-if，缺点就是相对于v-show来说性能不好)\r\n      this.renderComponent = false\r\n      this.$nextTick().then(() => {\r\n        this.renderComponent = true\r\n      })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.stationMap {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  height: 90vh;\r\n  margin-top: 5vh;\r\n}\r\n.list {\r\n  height: 100%;\r\n  width: 20vw;\r\n}\r\n.list .title {\r\n  height: 40px;\r\n  background-color: #068abb;\r\n  color: #fff;\r\n  font-size: 1.2rem;\r\n  text-align: center;\r\n  line-height: 40px;\r\n  letter-spacing: 0.5rem;\r\n}\r\n\r\n.MapContainer {\r\n  width: 55vw;\r\n  height: 100%;\r\n  border: 1px dotted;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n}\r\n.staInfo:hover {\r\n  font-weight: 600;\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n}\r\n.stime {\r\n  margin: 0 auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stationMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stationMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./stationMap.vue?vue&type=template&id=ea679438&scoped=true&\"\nimport script from \"./stationMap.vue?vue&type=script&lang=js&\"\nexport * from \"./stationMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./stationMap.vue?vue&type=style&index=0&id=ea679438&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ea679438\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stationMap.vue?vue&type=style&index=0&id=ea679438&scoped=true&lang=css&\""],"sourceRoot":""}