(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c757391c"],{"0e6d":function(e,t,r){},"48cc":function(e,t,r){"use strict";r("0e6d")},"9bd1":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ticketModule"},[r("el-card",[r("el-form",{ref:"QueryFormRef",staticClass:"queryForm",attrs:{model:e.QueryForm,rules:e.QueryRules,"label-width":"80px","label-position":"left"}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{model:{value:e.QueryForm.name,callback:function(t){e.$set(e.QueryForm,"name",t)},expression:"QueryForm.name"}})],1),r("el-form-item",{attrs:{label:"证件类型",prop:"card_type"}},[r("el-select",{attrs:{placeholder:"请选择证件类型"},model:{value:e.QueryForm.card_type,callback:function(t){e.$set(e.QueryForm,"card_type",t)},expression:"QueryForm.card_type"}},e._l(e.cardTypes,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"证件号码",prop:"card_number"}},[r("el-input",{model:{value:e.QueryForm.card_number,callback:function(t){e.$set(e.QueryForm,"card_number",t)},expression:"QueryForm.card_number"}})],1),r("el-button",{staticStyle:{height:"40px"},attrs:{type:"primary"},on:{click:e.getOrderList}},[e._v("查 询")])],1),r("el-table",{attrs:{data:e.ticketList,border:"",stripe:"","highlight-current-row":"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[r("el-table-column",{attrs:{label:"订单创建时间",prop:"create_time"}}),r("el-table-column",{attrs:{label:"线路",prop:"shuttle_line"}}),r("el-table-column",{attrs:{label:"订单状态"}},[r("span",[e._v("已支付")])]),r("el-table-column",{attrs:{label:"乘车人姓名",prop:"passenger_name"}}),r("el-table-column",{attrs:{label:"乘车人证件类型",prop:"passenger_name"}}),r("el-table-column",{attrs:{label:"乘车人证件号码",prop:"passenger_card_type"}}),r("el-table-column",{attrs:{label:"乘车码",prop:"ride_code"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.showEditDialog(t.row)}}},[e._v("编 辑")])]}}])})],1),r("el-dialog",{attrs:{title:"编辑车票",visible:e.EditDialogVisible,width:"70%"},on:{"update:visible":function(t){e.EditDialogVisible=t},close:e.EditDialogClosed}},[r("el-form",{ref:"editFormRef",staticClass:"editForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"110px"}},[r("el-form-item",{attrs:{label:"订单创建时间",prop:"create_time"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.editForm.create_time,callback:function(t){e.$set(e.editForm,"create_time",t)},expression:"editForm.create_time"}})],1),r("el-form-item",{attrs:{label:"线路",prop:"shuttle_line"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.editForm.shuttle_line,callback:function(t){e.$set(e.editForm,"shuttle_line",t)},expression:"editForm.shuttle_line"}})],1),r("el-form-item",{attrs:{label:"订单状态"}},[r("el-input",{attrs:{disabled:!0,value:"已支付"}})],1),r("el-form-item",{attrs:{label:"乘车人姓名",prop:"passenger_name"}},[r("el-input",{model:{value:e.editForm.passenger_name,callback:function(t){e.$set(e.editForm,"passenger_name",t)},expression:"editForm.passenger_name"}})],1),r("el-form-item",{attrs:{label:"乘车人证件类型","label-width":"130px",prop:"passenger_card_type"}},[r("el-select",{attrs:{placeholder:"请选择证件类型"},model:{value:e.editForm.passenger_card_type,callback:function(t){e.$set(e.editForm,"passenger_card_type",t)},expression:"editForm.passenger_card_type"}},e._l(e.cardTypes,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"乘车人证件号码","label-width":"130px",prop:"passenger_card_number"}},[r("el-input",{model:{value:e.editForm.passenger_card_number,callback:function(t){e.$set(e.editForm,"passenger_card_number",t)},expression:"editForm.passenger_card_number"}})],1),r("el-form-item",{attrs:{label:"乘车码",prop:"ride_code"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.editForm.ride_code,callback:function(t){e.$set(e.editForm,"ride_code",t)},expression:"editForm.ride_code"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.EditDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.editTicketInfo}},[e._v("确 定")])],1)],1)],1)],1)},l=[],s=r("1da1"),i=(r("96cf"),{name:"ticketModule",data:function(){return{QueryForm:{name:"",card_type:"",card_number:""},QueryRules:{name:[{required:"true",message:"请输入姓名",trigger:"blur"}],card_type:[{required:"true",message:"请选择证件类型",trigger:"blur"}],card_number:[{required:"true",message:"请输入证件号",trigger:"blur"},{min:18,message:"请检查证件号是否有误！",trigger:"blur"}]},cardTypes:[{value:"身份证",label:"身份证"},{value:"军人证",label:"军人证"},{value:"护照",label:"护照"},{value:"港澳居民来往内地通行证",label:"港澳居民来往内地通行证"},{value:"台湾居民来往内地通行证",label:"台湾居民来往内地通行证"},{value:"港澳台居民居住证",label:"港澳台居民居住证"}],ticketList:[],EditDialogVisible:!1,editForm:{},editFormRules:{passenger_name:[{required:"true",message:"请输入乘车人姓名",trigger:"blur"}],passenger_card_type:[{required:"true",message:"请选择乘车人证件类型",trigger:"blur"}],passenger_card_number:[{required:"true",message:"请输入乘车人证件号",trigger:"blur"}]}}},methods:{getOrderList:function(){var e=this;this.$refs.QueryFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var a,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("/manage/getOrderList",e.QueryForm);case 4:if(a=t.sent,l=a.data,1e4==l.code){t.next=8;break}return t.abrupt("return",e.$message({type:"error",message:l.message,duration:2e3}));case 8:e.ticketList=l.data.order_list,e.$message.success("查询车票成功！");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},EditDialogClosed:function(){this.$refs.editFormRef.resetFields()},showEditDialog:function(e){this.editForm=e,this.EditDialogVisible=!0},editTicketInfo:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var a,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("/manage/modifyOrderInfo",e.editForm);case 4:if(a=t.sent,l=a.data,1e4==l.code){t.next=8;break}return t.abrupt("return",e.$message({type:"error",message:l.message,duration:2e3}));case 8:e.EditDialogVisible=!1,e.$message.success("修改车票信息成功！");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}}),n=i,o=(r("48cc"),r("2877")),u=Object(o["a"])(n,a,l,!1,null,"d1c7fda2",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-c757391c.341b364c.js.map