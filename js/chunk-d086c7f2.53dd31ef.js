(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d086c7f2"],{"04e8":function(e,t,a){},a060:function(e,t,a){"use strict";a("04e8")},b255:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shiftMoudle"},[a("el-card",[a("el-form",{ref:"QueryFormRef",staticClass:"queryForm",attrs:{model:e.QueryForm,rules:e.QueryRules,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"起始地",prop:"start_name"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容",debounce:0},on:{select:e.handleSelect1},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item;return[a("div",{staticClass:"cityName"},[e._v(e._s(i.city_name+"市："))]),a("div",{staticClass:"regionName"},[e._v(e._s(i.region_name))])]}}]),model:{value:e.QueryForm.start_name,callback:function(t){e.$set(e.QueryForm,"start_name",t)},expression:"QueryForm.start_name"}},[a("i",{attrs:{slot:"append"},slot:"append"},[e._v("区/县")])])],1),a("el-form-item",{attrs:{label:"目的地",prop:"final_name"}},[a("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容",debounce:0},on:{select:e.handleSelect2},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item;return[a("div",{staticClass:"cityName"},[e._v(e._s(i.city_name+"市："))]),a("div",{staticClass:"regionName"},[e._v(e._s(i.region_name))])]}}]),model:{value:e.QueryForm.final_name,callback:function(t){e.$set(e.QueryForm,"final_name",t)},expression:"QueryForm.final_name"}},[a("i",{attrs:{slot:"append"},slot:"append"},[e._v("区/县")])])],1),a("el-form-item",{attrs:{label:"乘车日期",prop:"shuttle_shift_date"}},[a("el-date-picker",{attrs:{align:"left",type:"date",placeholder:"请选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.QueryForm.shuttle_shift_date,callback:function(t){e.$set(e.QueryForm,"shuttle_shift_date",t)},expression:"QueryForm.shuttle_shift_date"}})],1),a("el-form-item",[a("el-button",{staticStyle:{height:"40px"},attrs:{type:"primary",size:"middle"},on:{click:e.getShuttleList}},[e._v("查询")])],1),a("el-form-item",[a("el-button",{staticStyle:{height:"40px"},attrs:{type:"primary",size:"middle"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("新建班次")])],1)],1),a("el-table",{attrs:{data:e.shuttleList,border:"",stripe:"","highlight-current-row":"","header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[a("el-table-column",{attrs:{label:"日期",prop:"shuttle_shift_date"}}),a("el-table-column",{attrs:{label:"时间",prop:"shuttle_shift_time"}}),a("el-table-column",{attrs:{label:"票价",prop:"ticket_price"}}),a("el-table-column",{attrs:{label:"班次类型",prop:"shuttle_shift_type"}}),a("el-table-column",{attrs:{label:"线路类型",prop:"line_type"}}),a("el-table-column",{attrs:{label:"余票",prop:"unuse_ticket_quantity"}}),a("el-table-column",{attrs:{label:"儿童余票",prop:"unuse_child_ticket_quantity"}}),a("el-table-column",{attrs:{label:"状态",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:t.row.status,placement:"top"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"使用中","inactive-value":"禁用中"},on:{change:function(a){return e.userStateChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})],1)]}}])}),a("el-table-column",{attrs:{label:"操作",width:"350px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.showEditDialog(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.removeShuutleById(t.row.shift_id)}}},[e._v("删除")]),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){return e.showDetailDialog(t.row)}}},[a("i",{staticClass:"el-icon-tickets"}),e._v(" 详情")])]}}])})],1),a("el-pagination",{attrs:{"page-sizes":[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:"","current-page":e.QueryForm.page,"page-size":e.QueryForm.size},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}),a("el-dialog",{attrs:{title:"新建班次",visible:e.addDialogVisible,width:"70%"},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addDialogClosed}},[a("el-form",{ref:"addFormRef",staticClass:"addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"始发地",prop:"start_region"}},[a("el-input",{attrs:{placeholder:"西安"},model:{value:e.addForm.start_region,callback:function(t){e.$set(e.addForm,"start_region",t)},expression:"addForm.start_region"}})],1),a("el-form-item",{attrs:{label:"终点站",prop:"final_region"}},[a("el-input",{attrs:{placeholder:"乾县"},model:{value:e.addForm.final_region,callback:function(t){e.$set(e.addForm,"final_region",t)},expression:"addForm.final_region"}})],1),a("el-form-item",[a("div",{staticStyle:{width:"190px"}})]),a("el-form-item",{attrs:{label:"日期",prop:"shuttle_shift_date"}},[a("el-date-picker",{staticStyle:{width:"190px"},attrs:{align:"left",type:"date",placeholder:"请选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.addForm.shuttle_shift_date,callback:function(t){e.$set(e.addForm,"shuttle_shift_date",t)},expression:"addForm.shuttle_shift_date"}})],1),a("el-form-item",{attrs:{label:"时间",prop:"shuttle_shift_time"}},[a("el-time-select",{staticStyle:{width:"190px"},attrs:{"picker-options":{start:"08:00",step:"00:30",end:"24:00"},placeholder:"选择时间"},model:{value:e.addForm.shuttle_shift_time,callback:function(t){e.$set(e.addForm,"shuttle_shift_time",t)},expression:"addForm.shuttle_shift_time"}})],1),a("el-form-item",{attrs:{label:"总票数",prop:"ticket_quantity"}},[a("el-input",{model:{value:e.addForm.ticket_quantity,callback:function(t){e.$set(e.addForm,"ticket_quantity",t)},expression:"addForm.ticket_quantity"}})],1),a("el-form-item",{attrs:{label:"始发客运站",prop:"start_station"}},[a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"请选择"},model:{value:e.addForm.start_station,callback:function(t){e.$set(e.addForm,"start_station",t)},expression:"addForm.start_station"}},e._l(e.famliar_stations_list,(function(t){return a("el-option",{key:t.station_name,attrs:{label:t.station_name,value:t.station_name}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.station_name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.station_english_name))])])})),1)],1),a("el-form-item",{attrs:{label:"终点客运站",prop:"final_station"}},[a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"请选择"},model:{value:e.addForm.final_station,callback:function(t){e.$set(e.addForm,"final_station",t)},expression:"addForm.final_station"}},e._l(e.famliar_stations_list,(function(t){return a("el-option",{key:t.station_name,attrs:{label:t.station_name,value:t.station_name}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.station_name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.station_english_name))])])})),1)],1),a("el-form-item",{attrs:{label:"余票数",prop:"unuse_ticket_quantity"}},[a("el-input",{model:{value:e.addForm.unuse_ticket_quantity,callback:function(t){e.$set(e.addForm,"unuse_ticket_quantity",t)},expression:"addForm.unuse_ticket_quantity"}})],1),a("el-form-item",{attrs:{label:"票价",prop:"ticket_price"}},[a("el-input",{model:{value:e.addForm.ticket_price,callback:function(t){e.$set(e.addForm,"ticket_price",t)},expression:"addForm.ticket_price"}})],1),a("el-form-item",{attrs:{label:"保险费",prop:"insurance_price"}},[a("el-input",{model:{value:e.addForm.insurance_price,callback:function(t){e.$set(e.addForm,"insurance_price",t)},expression:"addForm.insurance_price"}})],1),a("el-form-item",{attrs:{label:"儿童总票",prop:"child_ticket_quantity"}},[a("el-input",{model:{value:e.addForm.child_ticket_quantity,callback:function(t){e.$set(e.addForm,"child_ticket_quantity",t)},expression:"addForm.child_ticket_quantity"}})],1),a("el-form-item",{attrs:{label:"退票手续费",prop:"refund_fee"}},[a("el-input",{model:{value:e.addForm.refund_fee,callback:function(t){e.$set(e.addForm,"refund_fee",t)},expression:"addForm.refund_fee"}})],1),a("el-form-item",{attrs:{label:"服务费",prop:"station_fee"}},[a("el-input",{model:{value:e.addForm.station_fee,callback:function(t){e.$set(e.addForm,"station_fee",t)},expression:"addForm.station_fee"}})],1),a("el-form-item",{attrs:{label:"儿童余票",prop:"unuse_child_ticket_quantity"}},[a("el-input",{model:{value:e.addForm.unuse_child_ticket_quantity,callback:function(t){e.$set(e.addForm,"unuse_child_ticket_quantity",t)},expression:"addForm.unuse_child_ticket_quantity"}})],1),a("el-form-item",{attrs:{label:"班次类型",prop:"shuttle_shift_type"}},[a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"固定班/流水班"},model:{value:e.addForm.shuttle_shift_type,callback:function(t){e.$set(e.addForm,"shuttle_shift_type",t)},expression:"addForm.shuttle_shift_type"}},e._l(e.shuttleOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"线路类型",prop:"line_type"}},[a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"高速/低速"},model:{value:e.addForm.line_type,callback:function(t){e.$set(e.addForm,"line_type",t)},expression:"addForm.line_type"}},e._l(e.lineOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"总用时",prop:"duration"}},[a("el-input",{model:{value:e.addForm.duration,callback:function(t){e.$set(e.addForm,"duration",t)},expression:"addForm.duration"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-input",{attrs:{placeholder:"使用中/禁用中"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}})],1),a("el-form-item",{attrs:{label:"始发客运站代码",prop:"station_number","label-width":"140px"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"610100CXO"},model:{value:e.addForm.station_number,callback:function(t){e.$set(e.addForm,"station_number",t)},expression:"addForm.station_number"}})],1),a("el-form-item",{attrs:{label:"总里程",prop:"full_lenght"}},[a("el-input",{model:{value:e.addForm.full_lenght,callback:function(t){e.$set(e.addForm,"full_lenght",t)},expression:"addForm.full_lenght"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v(" 取 消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addShuttle}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑班次",visible:e.EditDialogVisible,width:"70%"},on:{"update:visible":function(t){e.EditDialogVisible=t},close:e.EditDialogClosed}},[a("el-form",{ref:"editFormRef",staticClass:"editForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"日期",prop:"shuttle_shift_date"}},[a("el-date-picker",{staticStyle:{width:"190px"},attrs:{align:"left",type:"date",placeholder:"请选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",disabled:!0},model:{value:e.editForm.shuttle_shift_date,callback:function(t){e.$set(e.editForm,"shuttle_shift_date",t)},expression:"editForm.shuttle_shift_date"}})],1),a("el-form-item",{attrs:{label:"时间",prop:"shuttle_shift_time"}},[a("el-time-select",{staticStyle:{width:"190px"},attrs:{"picker-options":{start:"08:00",step:"00:30",end:"24:00"},placeholder:"选择时间"},model:{value:e.editForm.shuttle_shift_time,callback:function(t){e.$set(e.editForm,"shuttle_shift_time",t)},expression:"editForm.shuttle_shift_time"}})],1),a("el-form-item",{attrs:{label:"总票数",prop:"ticket_quantity"}},[a("el-input",{model:{value:e.editForm.ticket_quantity,callback:function(t){e.$set(e.editForm,"ticket_quantity",t)},expression:"editForm.ticket_quantity"}})],1),a("el-form-item",{attrs:{label:"始发客运站",prop:"start_station"}},[a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"请选择"},model:{value:e.editForm.start_station,callback:function(t){e.$set(e.editForm,"start_station",t)},expression:"editForm.start_station"}},e._l(e.famliar_stations_list,(function(t){return a("el-option",{key:t.station_name,attrs:{label:t.station_name,value:t.station_name}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.station_name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.station_english_name))])])})),1)],1),a("el-form-item",{attrs:{label:"终点客运站",prop:"final_station"}},[a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"请选择"},model:{value:e.editForm.final_station,callback:function(t){e.$set(e.editForm,"final_station",t)},expression:"editForm.final_station"}},e._l(e.famliar_stations_list,(function(t){return a("el-option",{key:t.station_name,attrs:{label:t.station_name,value:t.station_name}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.station_name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.station_english_name))])])})),1)],1),a("el-form-item",{attrs:{label:"余票数",prop:"unuse_ticket_quantity"}},[a("el-input",{model:{value:e.editForm.unuse_ticket_quantity,callback:function(t){e.$set(e.editForm,"unuse_ticket_quantity",t)},expression:"editForm.unuse_ticket_quantity"}})],1),a("el-form-item",{attrs:{label:"票价",prop:"ticket_price"}},[a("el-input",{model:{value:e.editForm.ticket_price,callback:function(t){e.$set(e.editForm,"ticket_price",t)},expression:"editForm.ticket_price"}})],1),a("el-form-item",{attrs:{label:"保险费",prop:"insurance_price"}},[a("el-input",{model:{value:e.editForm.insurance_price,callback:function(t){e.$set(e.editForm,"insurance_price",t)},expression:"editForm.insurance_price"}})],1),a("el-form-item",{attrs:{label:"儿童总票",prop:"child_ticket_quantity"}},[a("el-input",{model:{value:e.editForm.child_ticket_quantity,callback:function(t){e.$set(e.editForm,"child_ticket_quantity",t)},expression:"editForm.child_ticket_quantity"}})],1),a("el-form-item",{attrs:{label:"退票手续费",prop:"refund_fee"}},[a("el-input",{model:{value:e.editForm.refund_fee,callback:function(t){e.$set(e.editForm,"refund_fee",t)},expression:"editForm.refund_fee"}})],1),a("el-form-item",{attrs:{label:"服务费",prop:"station_fee"}},[a("el-input",{model:{value:e.editForm.station_fee,callback:function(t){e.$set(e.editForm,"station_fee",t)},expression:"editForm.station_fee"}})],1),a("el-form-item",{attrs:{label:"儿童余票",prop:"unuse_child_ticket_quantity"}},[a("el-input",{model:{value:e.editForm.unuse_child_ticket_quantity,callback:function(t){e.$set(e.editForm,"unuse_child_ticket_quantity",t)},expression:"editForm.unuse_child_ticket_quantity"}})],1),a("el-form-item",{attrs:{label:"班次类型",prop:"shuttle_shift_type"}},[a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"固定班/流水班"},model:{value:e.editForm.shuttle_shift_type,callback:function(t){e.$set(e.editForm,"shuttle_shift_type",t)},expression:"editForm.shuttle_shift_type"}},e._l(e.shuttleOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"线路类型",prop:"line_type"}},[a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"高速/低速"},model:{value:e.editForm.line_type,callback:function(t){e.$set(e.editForm,"line_type",t)},expression:"editForm.line_type"}},e._l(e.lineOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"总用时",prop:"duration"}},[a("el-input",{model:{value:e.editForm.duration,callback:function(t){e.$set(e.editForm,"duration",t)},expression:"editForm.duration"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-input",{attrs:{placeholder:"使用中/禁用中",disabled:!0},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}})],1),a("el-form-item",{attrs:{label:"始发客运站代码",prop:"station_number","label-width":"140px"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"610100CXO"},model:{value:e.editForm.station_number,callback:function(t){e.$set(e.editForm,"station_number",t)},expression:"editForm.station_number"}})],1),a("el-form-item",{attrs:{label:"总里程",prop:"full_lenght"}},[a("el-input",{model:{value:e.editForm.full_lenght,callback:function(t){e.$set(e.editForm,"full_lenght",t)},expression:"editForm.full_lenght"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.EditDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editUserInfo}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"班次详情",visible:e.DetailDialogVisible,width:"70%"},on:{"update:visible":function(t){e.DetailDialogVisible=t},close:e.DetailDialogClosed}},[a("el-form",{ref:"DetailFormRef",staticClass:"DetailForm",attrs:{model:e.DetailForm,rules:e.DetailFormRules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"日期",prop:"shuttle_shift_date"}},[a("el-date-picker",{staticStyle:{width:"190px"},attrs:{align:"left",type:"date",placeholder:"请选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",disabled:!0},model:{value:e.DetailForm.shuttle_shift_date,callback:function(t){e.$set(e.DetailForm,"shuttle_shift_date",t)},expression:"DetailForm.shuttle_shift_date"}})],1),a("el-form-item",{attrs:{label:"时间",prop:"shuttle_shift_time"}},[a("el-time-select",{staticStyle:{width:"190px"},attrs:{"picker-options":{start:"08:00",step:"00:30",end:"24:00"},placeholder:"选择时间",disabled:!0},model:{value:e.DetailForm.shuttle_shift_time,callback:function(t){e.$set(e.DetailForm,"shuttle_shift_time",t)},expression:"DetailForm.shuttle_shift_time"}})],1),a("el-form-item",{attrs:{label:"总票数",prop:"ticket_quantity"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.DetailForm.ticket_quantity,callback:function(t){e.$set(e.DetailForm,"ticket_quantity",t)},expression:"DetailForm.ticket_quantity"}})],1),a("el-form-item",{attrs:{label:"始发客运站",prop:"start_station"}},[a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"请选择",disabled:!0},model:{value:e.DetailForm.start_station,callback:function(t){e.$set(e.DetailForm,"start_station",t)},expression:"DetailForm.start_station"}},e._l(e.famliar_stations_list,(function(t){return a("el-option",{key:t.station_name,attrs:{label:t.station_name,value:t.station_name}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.station_name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.station_english_name))])])})),1)],1),a("el-form-item",{attrs:{label:"终点客运站",prop:"final_station"}},[a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"请选择",disabled:!0},model:{value:e.DetailForm.final_station,callback:function(t){e.$set(e.DetailForm,"final_station",t)},expression:"DetailForm.final_station"}},e._l(e.famliar_stations_list,(function(t){return a("el-option",{key:t.station_name,attrs:{label:t.station_name,value:t.station_name}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.station_name))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.station_english_name))])])})),1)],1),a("el-form-item",{attrs:{label:"余票数",prop:"unuse_ticket_quantity"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.DetailForm.unuse_ticket_quantity,callback:function(t){e.$set(e.DetailForm,"unuse_ticket_quantity",t)},expression:"DetailForm.unuse_ticket_quantity"}})],1),a("el-form-item",{attrs:{label:"票价",prop:"ticket_price"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.DetailForm.ticket_price,callback:function(t){e.$set(e.DetailForm,"ticket_price",t)},expression:"DetailForm.ticket_price"}})],1),a("el-form-item",{attrs:{label:"保险费",prop:"insurance_price"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.DetailForm.insurance_price,callback:function(t){e.$set(e.DetailForm,"insurance_price",t)},expression:"DetailForm.insurance_price"}})],1),a("el-form-item",{attrs:{label:"儿童总票",prop:"child_ticket_quantity"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.DetailForm.child_ticket_quantity,callback:function(t){e.$set(e.DetailForm,"child_ticket_quantity",t)},expression:"DetailForm.child_ticket_quantity"}})],1),a("el-form-item",{attrs:{label:"退票手续费",prop:"refund_fee"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.DetailForm.refund_fee,callback:function(t){e.$set(e.DetailForm,"refund_fee",t)},expression:"DetailForm.refund_fee"}})],1),a("el-form-item",{attrs:{label:"服务费",prop:"station_fee"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.DetailForm.station_fee,callback:function(t){e.$set(e.DetailForm,"station_fee",t)},expression:"DetailForm.station_fee"}})],1),a("el-form-item",{attrs:{label:"儿童余票",prop:"unuse_child_ticket_quantity"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.DetailForm.unuse_child_ticket_quantity,callback:function(t){e.$set(e.DetailForm,"unuse_child_ticket_quantity",t)},expression:"DetailForm.unuse_child_ticket_quantity"}})],1),a("el-form-item",{attrs:{label:"班次类型",prop:"shuttle_shift_type"}},[a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"固定班/流水班",disabled:!0},model:{value:e.DetailForm.shuttle_shift_type,callback:function(t){e.$set(e.DetailForm,"shuttle_shift_type",t)},expression:"DetailForm.shuttle_shift_type"}},e._l(e.shuttleOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"线路类型",prop:"line_type"}},[a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"高速/低速",disabled:!0},model:{value:e.DetailForm.line_type,callback:function(t){e.$set(e.DetailForm,"line_type",t)},expression:"DetailForm.line_type"}},e._l(e.lineOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"总用时",prop:"duration"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.DetailForm.duration,callback:function(t){e.$set(e.DetailForm,"duration",t)},expression:"DetailForm.duration"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-input",{attrs:{placeholder:"使用中/禁用中",disabled:!0},model:{value:e.DetailForm.status,callback:function(t){e.$set(e.DetailForm,"status",t)},expression:"DetailForm.status"}})],1),a("el-form-item",{attrs:{label:"始发客运站代码",prop:"station_number","label-width":"140px"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"610100CXO",disabled:!0},model:{value:e.DetailForm.station_number,callback:function(t){e.$set(e.DetailForm,"station_number",t)},expression:"DetailForm.station_number"}})],1),a("el-form-item",{attrs:{label:"总里程",prop:"full_lenght"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.DetailForm.full_lenght,callback:function(t){e.$set(e.DetailForm,"full_lenght",t)},expression:"DetailForm.full_lenght"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.DetailDialogVisible=!1}}},[e._v("关 闭")])],1)],1)],1)],1)},r=[],l=a("1da1"),s=(a("96cf"),a("d3b7"),a("159b"),a("4de4"),{name:"shiftMoudle",data:function(){var e=this;function t(e,t){for(var a=0;a<e.length;a++)if(t===e[a])return!0;return!1}var a=function(a,i,r){e.regionsList.forEach((function(t){e.regionsNameList.push(t.region_name)})),t(e.regionsNameList,i)?r():r(new Error("请选择列表中已有选项!"))};return{QueryForm:{start_name:"",final_name:"",start_region_id:0,final_region_id:0,shuttle_shift_date:"",page:1,size:5},QueryRules:{start_name:[{message:"请选择有效的城市！",trigger:"change",validator:a},{required:"true",message:"请输入目的地",trigger:"blur"}],final_name:[{message:"请选择有效的城市！",trigger:"change",validator:a},{message:"请选择有效的城市！",trigger:"blur",validator:a},{required:"true",message:"请输入目的地",trigger:"blur"}],shuttle_shift_date:[{required:!0,message:"请选择乘车日期",trigger:"blur"}]},regionsList:[],regionsNameList:[],shuttleList:[],addDialogVisible:!1,addForm:{shift_id:null,shuttle_shift_date:"",shuttle_shift_time:"",start_region:"",final_region:"",start_station:"",final_station:"",ticket_quantity:null,child_ticket_quantity:null,unuse_ticket_quantity:null,unuse_child_ticket_quantity:null,ticket_price:null,refund_fee:null,station_fee:null,insurance_price:null,shuttle_shift_type:"",line_type:"",duration:"",full_lenght:"",status:"",station_number:""},addFormRules:{shuttle_shift_date:[{required:"true",message:"请选择日期",trigger:"blur"}],shuttle_shift_time:[{required:"true",message:"请选择时间",trigger:"blur"}],start_region:[{required:"true",message:"请输入始发地",trigger:"blur"}],final_region:[{required:"true",message:"请输入目的地",trigger:"blur"}],start_station:[{required:"true",message:"请选择起始客运站",trigger:"blur"}],final_station:[{required:"true",message:"请选择目的地客运站",trigger:"blur"}],ticket_quantity:[{required:"true",message:"请输入总票数",trigger:"blur"}],child_ticket_quantity:[{required:"true",message:"请输入儿童总票数",trigger:"blur"}],unuse_ticket_quantity:[{required:"true",message:"请输入剩余票数",trigger:"blur"}],unuse_child_ticket_quantity:[{required:"true",message:"请输入剩余儿童票数",trigger:"blur"}],ticket_price:[{required:"true",message:"请输入票价",trigger:"blur"}],refund_fee:[{required:"true",message:"请输入退款手续费",trigger:"blur"}],station_fee:[{required:"true",message:"请输入服务费",trigger:"blur"}],insurance_price:[{required:"true",message:"请输入保险费",trigger:"blur"}],shuttle_shift_type:[{required:"true",message:"请输入班次类型",trigger:"blur"}],line_type:[{required:"true",message:"请输入线路类型",trigger:"blur"}],duration:[{required:"true",message:"请输入总用时",trigger:"blur"}],full_lenght:[{required:"true",message:"请输入总里程",trigger:"blur"}],status:[{required:"true",message:"请输入状态",trigger:"blur"}],station_number:[{required:"true",message:"请输入始发客运站代码",trigger:"blur"}]},total:0,shuttleOpt:[{value:"固定班",label:"固定班"},{value:"流水班",label:"流水班"}],lineOpt:[{value:"高速",label:"高速"},{value:"低速",label:"低速"}],famliar_stations_list:[],EditDialogVisible:!1,editForm:{},editFormRules:{shuttle_shift_date:[{required:"true",message:"请选择日期",trigger:"blur"}],shuttle_shift_time:[{required:"true",message:"请选择时间",trigger:"blur"}],start_station:[{required:"true",message:"请选择起始客运站",trigger:"blur"}],final_station:[{required:"true",message:"请选择目的地客运站",trigger:"blur"}],ticket_quantity:[{required:"true",message:"请输入总票数",trigger:"blur"}],child_ticket_quantity:[{required:"true",message:"请输入儿童总票数",trigger:"blur"}],unuse_ticket_quantity:[{required:"true",message:"请输入剩余票数",trigger:"blur"}],unuse_child_ticket_quantity:[{required:"true",message:"请输入剩余儿童票数",trigger:"blur"}],ticket_price:[{required:"true",message:"请输入票价",trigger:"blur"}],refund_fee:[{required:"true",message:"请输入退款手续费",trigger:"blur"}],station_fee:[{required:"true",message:"请输入服务费",trigger:"blur"}],insurance_price:[{required:"true",message:"请输入保险费",trigger:"blur"}],shuttle_shift_type:[{required:"true",message:"请输入班次类型",trigger:"blur"}],line_type:[{required:"true",message:"请输入线路类型",trigger:"blur"}],duration:[{required:"true",message:"请输入总用时",trigger:"blur"}],full_lenght:[{required:"true",message:"请输入总里程",trigger:"blur"}],status:[{required:"true",message:"请输入状态",trigger:"blur"}],station_number:[{required:"true",message:"请输入始发客运站代码",trigger:"blur"}]},DetailDialogVisible:!1,DetailForm:{},DetailFormRules:{}}},methods:{querySearch:function(e,t){var a=this.regionsList,i=e?a.filter(this.createFilter(e)):a;t(i)},createFilter:function(e){return function(t){return t.region_name.toLowerCase().indexOf(e.toLowerCase())>=0||t.region_english_name.toLowerCase().indexOf(e.toLowerCase())>=0}},handleSelect1:function(e){this.QueryForm.start_name=e.region_name,this.QueryForm.start_region_id=e.region_id},handleSelect2:function(e){this.QueryForm.final_name=e.region_name,this.QueryForm.final_region_id=e.region_id},getAllRegions:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/query/region/getAllRegions");case 2:if(a=t.sent,i=a.data,1e4===i.code){t.next=6;break}return t.abrupt("return",e.$message.error("获取所有地区列表失败!"));case 6:e.regionsList=i.data.region_list;case 7:case"end":return t.stop()}}),t)})))()},getShuttleList:function(){var e=this;this.$refs.QueryFormRef.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(a){var i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("/manage/getShuttleInfoList",{start_region_id:e.QueryForm.start_region_id,final_region_id:e.QueryForm.final_region_id,shuttle_shift_date:e.QueryForm.shuttle_shift_date,page:e.QueryForm.page,size:e.QueryForm.size});case 4:if(i=t.sent,r=i.data,1e4==r.code){t.next=8;break}return t.abrupt("return",e.$message({type:"error",message:r.message,duration:2e3}));case 8:e.$message.success("查询班次列表成功！"),e.shuttleList=r.data.shuttle_list,e.total=r.total;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},handleCurrentChange:function(e){this.QueryForm.page=e,this.getShuttleList()},handleSizeChange:function(e){this.QueryForm.size=e,this.getShuttleList()},userStateChange:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get("/manage/changeShuttleStatus",{params:{Shuttle_id:e.shift_id}});case 2:if(i=a.sent,r=i.data,1e4==r.code){a.next=7;break}return e.status=!e.status,a.abrupt("return",t.$message({type:"error",message:r.message,duration:2e3}));case 7:t.$message.success("状态更新成功！");case 8:case"end":return a.stop()}}),a)})))()},addDialogClosed:function(){this.$refs.addFormRef.resetFields()},addShuttle:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(a){var i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("/manage/createShuttleInfo",e.addForm);case 4:if(i=t.sent,r=i.data,1e4==r.code){t.next=8;break}return t.abrupt("return",e.$message({type:"error",message:r.message,duration:2e3}));case 8:e.$message.success("添加成功！"),e.addDialogVisible=!1,e.getShuttleList();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getFamliarStation:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/query/station/getFamliarStation?size=20");case 2:if(a=t.sent,i=a.data,1e4==i.code){t.next=6;break}return t.abrupt("return",e.$message({type:"error",message:i.message,duration:200}));case 6:e.famliar_stations_list=i.data.famliar_stations_list;case 7:case"end":return t.stop()}}),t)})))()},showEditDialog:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.editForm=e,t.EditDialogVisible=!0;case 2:case"end":return a.stop()}}),a)})))()},EditDialogClosed:function(){this.$refs.editFormRef.resetFields()},editUserInfo:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(a){var i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.post("/manage/modifyShuttleInfo",e.editForm);case 4:if(i=t.sent,r=i.data,1e4==r.code){t.next=8;break}return t.abrupt("return",e.$message({type:"error",message:r.message,duration:2e3}));case 8:e.EditDialogVisible=!1,e.getShuttleList(),e.$message.success("班次信息编辑成功！");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},removeShuutleById:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i,r,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("此操作将会永久删除该班次，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(i=a.sent,"confirm"===i){a.next=5;break}return a.abrupt("return",t.$message.info("已经取消删除操作！"));case 5:return a.next=7,t.$http.get("/manage/deleteShuttleInfo",{params:{Shuttle_id:e}});case 7:if(r=a.sent,l=r.data,1e4==l.code){a.next=11;break}return a.abrupt("return",t.$message({type:"error",message:l.message,duration:2e3}));case 11:t.$message.success("删除班次成功！"),t.getShuttleList();case 13:case"end":return a.stop()}}),a)})))()},showDetailDialog:function(e){this.DetailForm=e,this.DetailDialogVisible=!0},DetailDialogClosed:function(){this.$refs.DetailFormRef.resetFields()}},created:function(){this.getAllRegions(),this.getFamliarStation()}}),n=s,o=(a("a060"),a("2877")),u=Object(o["a"])(n,i,r,!1,null,"63c50070",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-d086c7f2.53dd31ef.js.map