{"version":3,"sources":["webpack:///./src/components/content/person/children/paidOrder.vue?e7ac","webpack:///src/components/content/person/children/paidOrder.vue","webpack:///./src/components/content/person/children/paidOrder.vue?12a4","webpack:///./src/components/content/person/children/paidOrder.vue","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/components/content/person/children/paidOrder.vue?c27f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","model","value","callback","$$v","start_time","expression","end_time","on","getOrderInfo","staticStyle","tableData","textAlign","load","children","hasChildren","scopedSlots","_u","key","fn","row","$event","getOrderDetail","master_order_number","handleRefund","slot","total","queryForm","size","handleCurrentChange","isShowOrderDetail","subTableData","staticRenderFns","data","page","mounted","_getOrderInfo","methods","order_status","newPage","_getSubOrder","clickRefund","refundId","order_id","isShowRefundDialog","orderId","console","log","_refund","order_number","refund_type","type","tree","treeNode","setTimeout","resolve","$http","component","$","global","fails","isArray","isObject","toObject","lengthOfArrayLike","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","TypeError","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","A","n","arguments"],"mappings":"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","file":"js/chunk-e07a5c36.8519dabf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"allOrder cards\"},[_c('div',{staticClass:\"order\"},[_vm._m(0),_c('div',{staticClass:\"order-body\"},[_c('div',{staticClass:\"search\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"购票时间:\")]),_c('div',{staticClass:\"start-time time\"},[_c('span',[_vm._v(\"从\")]),_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.start_time),callback:function ($$v) {_vm.start_time=$$v},expression:\"start_time\"}})],1),_c('div',{staticClass:\"start-time time\"},[_c('span',[_vm._v(\"到\")]),_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.end_time),callback:function ($$v) {_vm.end_time=$$v},expression:\"end_time\"}})],1),_c('div',{staticClass:\"btn\"},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.getOrderInfo}},[_vm._v(\"筛选\")])],1)]),_c('div',{staticClass:\"result\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"header-cell-style\":{ textAlign: 'center' },\"cell-style\":{ textAlign: 'center' },\"row-key\":\"order_id\",\"border\":\"\",\"lazy\":\"\",\"load\":_vm.load,\"tree-props\":{ children: 'children', hasChildren: 'hasChildren' }}},[_c('el-table-column',{attrs:{\"prop\":\"master_order_number\",\"label\":\"订单号\",\"width\":\"240\"}}),_c('el-table-column',{attrs:{\"prop\":\"shuttle_shift_time\",\"label\":\"发车时间\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"total_amount\",\"label\":\"价钱\"}}),_c('el-table-column',{attrs:{\"prop\":\"order_status\",\"label\":\"状态\"}}),_c('el-table-column',{attrs:{\"prop\":\"start_region\",\"label\":\"始发地\"}}),_c('el-table-column',{attrs:{\"prop\":\"final_region\",\"label\":\"到达地\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(row){return [_c('el-button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.getOrderDetail(row.row.master_order_number)}}},[_vm._v(\" 订单详情 \")]),_c('el-popconfirm',{attrs:{\"title\":\"是否确认退票？\",\"icon\":\"none\"},on:{\"confirm\":function($event){return _vm.handleRefund(row.row.master_order_number, 'all')}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"small\",\"type\":\"primary\"},slot:\"reference\"},[_vm._v(\"退票\")])],1)]}}])})],1),_c('div',{staticClass:\"toggle\"},[_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"background\":\"\",\"page-size\":_vm.queryForm.size},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('div',{staticClass:\"history\"},[_vm._v(\" 您暂无 相关记录，如需购票请 \"),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"点击这里\")])],1)]),_c('el-dialog',{attrs:{\"visible\":_vm.isShowOrderDetail,\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.isShowOrderDetail=$event}}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.subTableData,\"header-cell-style\":{ textAlign: 'center' },\"cell-style\":{ textAlign: 'center' },\"row-key\":\"order_id\",\"border\":\"\",\"lazy\":\"\",\"load\":_vm.load,\"tree-props\":{ children: 'children', hasChildren: 'hasChildren' }}},[_c('el-table-column',{attrs:{\"prop\":\"master_order_number\",\"label\":\"订单号\",\"width\":\"240\"}}),_c('el-table-column',{attrs:{\"prop\":\"shuttle_shift_time\",\"label\":\"发车时间\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"total_amount\",\"label\":\"价钱\"}}),_c('el-table-column',{attrs:{\"prop\":\"order_status\",\"label\":\"状态\"}}),_c('el-table-column',{attrs:{\"prop\":\"start_region\",\"label\":\"始发地\"}}),_c('el-table-column',{attrs:{\"prop\":\"final_region\",\"label\":\"到达地\"}}),_c('el-table-column',{attrs:{\"prop\":\"ticket_type\",\"label\":\"票种\"}}),_c('el-table-column',{attrs:{\"prop\":\"card_type\",\"label\":\"证件类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"card_number\",\"label\":\"证件号码\"}}),_c('el-table-column',{attrs:{\"prop\":\"refund_amount\",\"label\":\"退款金额\"}}),_c('el-table-column',{attrs:{\"prop\":\"ride_code\",\"label\":\"乘车码\"}}),_c('el-table-column',{attrs:{\"prop\":\"start_station\",\"label\":\"城西客运站\"}}),_c('el-table-column',{attrs:{\"prop\":\"final_station\",\"label\":\"兴平客运站\"}}),_c('el-table-column',{attrs:{\"prop\":\"ticket_price\",\"label\":\"票价\"}}),_c('el-table-column',{attrs:{\"prop\":\"station_fee\",\"label\":\"站台费\"}}),_c('el-table-column',{attrs:{\"prop\":\"refund_fee\",\"label\":\"退款手续费\"}}),_c('el-table-column',{attrs:{\"prop\":\"insurance_price\",\"label\":\"保险费\"}}),_c('el-table-column',{attrs:{\"prop\":\"insurance_status\",\"label\":\"保险状态\"}}),_c('el-table-column',{attrs:{\"prop\":\"shuttle_shift_type\",\"label\":\"班次类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"line_type\",\"label\":\"线路类型\"}}),_c('el-table-column',{attrs:{\"prop\":\"car_model\",\"label\":\"车辆型号\"}}),_c('el-table-column',{attrs:{\"prop\":\"shift_id\",\"label\":\"班次号\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(row){return [_c('el-popconfirm',{attrs:{\"title\":\"是否确认退票？\",\"icon\":\"none\"},on:{\"confirm\":function($event){return _vm.handleRefund(row.row.master_order_number, 'single')}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"small\",\"type\":\"primary\"},slot:\"reference\"},[_vm._v(\"退票\")])],1)]}}])})],1)],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order-title\"},[_c('span',[_vm._v(\"> 我的订单\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"allOrder cards\">\r\n    <div class=\"order\">\r\n      <div class=\"order-title\">\r\n        <span>> 我的订单</span>\r\n      </div>\r\n      <div class=\"order-body\">\r\n        <div class=\"search\">\r\n          <span class=\"text\">购票时间:</span>\r\n          <div class=\"start-time time\">\r\n            <span>从</span>\r\n            <el-date-picker\r\n              v-model=\"start_time\"\r\n              type=\"date\"\r\n              placeholder=\"选择日期\"\r\n            >\r\n            </el-date-picker>\r\n          </div>\r\n          <div class=\"start-time time\">\r\n            <span>到</span>\r\n            <el-date-picker\r\n              v-model=\"end_time\"\r\n              type=\"date\"\r\n              placeholder=\"选择日期\"\r\n            >\r\n            </el-date-picker>\r\n          </div>\r\n          <div class=\"btn\">\r\n            <el-button type=\"success\" @click=\"getOrderInfo\">筛选</el-button>\r\n          </div>\r\n        </div>\r\n        <div class=\"result\">\r\n          <el-table\r\n            :data=\"tableData\"\r\n            style=\"width: 100%\"\r\n            :header-cell-style=\"{ textAlign: 'center' }\"\r\n            :cell-style=\"{ textAlign: 'center' }\"\r\n            row-key=\"order_id\"\r\n            border\r\n            lazy\r\n            :load=\"load\"\r\n            :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\"\r\n          >\r\n            <el-table-column\r\n              prop=\"master_order_number\"\r\n              label=\"订单号\"\r\n              width=\"240\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"shuttle_shift_time\"\r\n              label=\"发车时间\"\r\n              width=\"180\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column prop=\"total_amount\" label=\"价钱\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"order_status\" label=\"状态\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"start_region\" label=\"始发地\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"final_region\" label=\"到达地\">\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width=\"180\">\r\n              <template slot-scope=\"row\">\r\n                <el-button\r\n                  type=\"primary\"\r\n                  size=\"small\"\r\n                  @click=\"getOrderDetail(row.row.master_order_number)\"\r\n                  style=\"margin-right: 10px\"\r\n                >\r\n                  订单详情\r\n                </el-button>\r\n                <el-popconfirm\r\n                  title=\"是否确认退票？\"\r\n                  icon=\"none\"\r\n                  @confirm=\"handleRefund(row.row.master_order_number, 'all')\"\r\n                >\r\n                  <el-button slot=\"reference\" size=\"small\" type=\"primary\"\r\n                  >退票</el-button\r\n                  >\r\n                </el-popconfirm>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <div class=\"toggle\">\r\n            <el-pagination\r\n              layout=\"prev, pager, next\"\r\n              :total=\"total\"\r\n              background\r\n              :page-size='queryForm.size'\r\n              @current-change=\"handleCurrentChange\"\r\n            >\r\n            </el-pagination>\r\n          </div>\r\n        </div>\r\n        <div class=\"history\">\r\n          您暂无 相关记录，如需购票请\r\n          <router-link to=\"/\">点击这里</router-link>\r\n        </div>\r\n      </div>\r\n      <el-dialog :visible.sync=\"isShowOrderDetail\" width=\"70%\">\r\n        <el-table\r\n          :data=\"subTableData\"\r\n          style=\"width: 100%\"\r\n          :header-cell-style=\"{ textAlign: 'center' }\"\r\n          :cell-style=\"{ textAlign: 'center' }\"\r\n          row-key=\"order_id\"\r\n          border\r\n          lazy\r\n          :load=\"load\"\r\n          :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\"\r\n        >\r\n          <el-table-column\r\n            prop=\"master_order_number\"\r\n            label=\"订单号\"\r\n            width=\"240\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"shuttle_shift_time\"\r\n            label=\"发车时间\"\r\n            width=\"180\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column prop=\"total_amount\" label=\"价钱\"> </el-table-column>\r\n          <el-table-column prop=\"order_status\" label=\"状态\"> </el-table-column>\r\n          <el-table-column prop=\"start_region\" label=\"始发地\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"final_region\" label=\"到达地\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"ticket_type\" label=\"票种\"> </el-table-column>\r\n          <el-table-column prop=\"card_type\" label=\"证件类型\"> </el-table-column>\r\n          <el-table-column prop=\"card_number\" label=\"证件号码\"> </el-table-column>\r\n          <el-table-column prop=\"refund_amount\" label=\"退款金额\"> </el-table-column>\r\n          <el-table-column prop=\"ride_code\" label=\"乘车码\"> </el-table-column>\r\n          <el-table-column prop=\"start_station\" label=\"城西客运站\"> </el-table-column>\r\n          <el-table-column prop=\"final_station\" label=\"兴平客运站\"> </el-table-column>\r\n          <el-table-column prop=\"ticket_price\" label=\"票价\"> </el-table-column>\r\n          <el-table-column prop=\"station_fee\" label=\"站台费\"> </el-table-column>\r\n          <el-table-column prop=\"refund_fee\" label=\"退款手续费\"> </el-table-column>\r\n          <el-table-column prop=\"insurance_price\" label=\"保险费\"> </el-table-column>\r\n          <el-table-column prop=\"insurance_status\" label=\"保险状态\"> </el-table-column>\r\n          <el-table-column prop=\"shuttle_shift_type\" label=\"班次类型\"> </el-table-column>\r\n          <el-table-column prop=\"line_type\" label=\"线路类型\"> </el-table-column>\r\n          <el-table-column prop=\"car_model\" label=\"车辆型号\"> </el-table-column>\r\n          <el-table-column prop=\"shift_id\" label=\"班次号\"> </el-table-column>\r\n          <!-- <el-table-column prop=\"order_operation_log\" label=\"班次类型\"> </el-table-column> -->\r\n          <el-table-column label=\"操作\" width=\"180\">\r\n            <template slot-scope=\"row\">\r\n              <el-popconfirm\r\n                title=\"是否确认退票？\"\r\n                icon=\"none\"\r\n                @confirm=\"handleRefund(row.row.master_order_number, 'single')\"\r\n              >\r\n                <el-button slot=\"reference\" size=\"small\" type=\"primary\"\r\n                >退票</el-button\r\n                >\r\n              </el-popconfirm>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Message } from 'element-ui'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      start_time: '',\r\n      end_time: '',\r\n      tableData: [],\r\n      subTableData: [],\r\n      isShowOrderDetail: false,\r\n      queryForm: {\r\n        page: 1,\r\n        size: 6\r\n      },\r\n      total: 0\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this._getOrderInfo({ order_status: 'standby' })\r\n  },\r\n\r\n  methods: {\r\n\r\n    // 通过时间筛选\r\n    getOrderInfo() {\r\n      const { start_time, end_time } = this\r\n\r\n      if (!start_time || !end_time) {\r\n        Message.error('请选择时间')\r\n        return\r\n      }\r\n      this._getOrderInfo({\r\n        order_status: 'all',\r\n        start_time,\r\n        end_time,\r\n      })\r\n    },\r\n\r\n    // 监听页码改变\r\n    handleCurrentChange(newPage) {\r\n      this.queryForm.page = newPage\r\n      this._getSubOrder()\r\n    },\r\n\r\n    // 退票\r\n    clickRefund(order_id) {\r\n      this.refundId = order_id\r\n      this.isShowRefundDialog = true\r\n    },\r\n\r\n    // 获取子订单\r\n    getOrderDetail(orderId) {\r\n      this.isShowOrderDetail = true\r\n      this._getSubOrder({\r\n        master_order_number: orderId,\r\n      })\r\n    },\r\n\r\n    handleRefund(order_id, type) {\r\n      console.log(order_id)\r\n      this._refund({\r\n        order_number: order_id,\r\n        refund_type: type,\r\n      })\r\n    },\r\n\r\n    load(tree, treeNode, resolve) {\r\n      console.log(tree, treeNode)\r\n      setTimeout(() => {\r\n        resolve([\r\n          {\r\n            id: 31,\r\n            date: '2016-05-01',\r\n            name: '王小虎',\r\n            address: '上海市普陀区金沙江路 1519 弄',\r\n          },\r\n          {\r\n            id: 32,\r\n            date: '2016-05-01',\r\n            name: '王小虎',\r\n            address: '上海市普陀区金沙江路 1519 弄',\r\n          },\r\n        ])\r\n      }, 1000)\r\n    },\r\n\r\n    _getSubOrder(params) {\r\n      this.$http\r\n        .request({\r\n          url: `/order/getOrderDetailInfo?page=${this.queryForm.page}&size=${this.queryForm.size}`,\r\n          method: 'get',\r\n          params,\r\n        })\r\n        .then((result) => {\r\n          console.log(result.data)\r\n          if (result.data.code === 10000) {\r\n            this.subTableData = result.data.data.order_detail_list\r\n          }\r\n          this.total= result.data.total\r\n        })\r\n    },\r\n\r\n    _refund(params) {\r\n      this.$http\r\n        .request({\r\n          url: '/order/refundOrder',\r\n          method: 'get',\r\n          params,\r\n        })\r\n        .then((result) => {\r\n          console.log(result.data)\r\n          if (result.data.code === 10000) {\r\n            Message.success('退票成功')\r\n          }\r\n        })\r\n    },\r\n\r\n    _getOrderInfo(params) {\r\n      this.$http\r\n        .request({\r\n          url: '/order/getOrderInfo',\r\n          method: 'get',\r\n          params,\r\n        })\r\n        .then((result) => {\r\n          console.log(result.data)\r\n          if (result.data.code === 10000) {\r\n            result.data.data.order_list.forEach((element) => {\r\n              element.children = []\r\n            })\r\n            this.tableData = result.data.data.order_list\r\n          }\r\n        })\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.allOrder {\r\n  padding: 10px 20px;\r\n}\r\n.order-title {\r\n  height: 30px;\r\n  line-height: 30px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n.order-title span {\r\n  font-weight: bold;\r\n  color: #7d7d7d;\r\n  border-bottom: 2px solid #2577e3;\r\n}\r\n.search {\r\n  margin: 50px 0 80px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  background: #dce9ef;\r\n  padding: 10px 20px;\r\n  font-size: 12px;\r\n}\r\n.search .text {\r\n  margin: 0 20px;\r\n  color: #000000;\r\n  font-size: 12px;\r\n  font-weight: 100;\r\n}\r\n.search .time {\r\n  font-size: 14px;\r\n}\r\n.search .time span {\r\n  margin: 0 20px;\r\n}\r\n.search .btn {\r\n  margin-left: 20px;\r\n}\r\n.toggle {\r\n  text-align: right;\r\n  margin-top: 40px;\r\n}\r\n.toggle .val{\r\n  margin: 0 10px;\r\n}\r\n.history{\r\n  font-size: 12px;\r\n}\r\n.history a{\r\n  color: red;\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./paidOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./paidOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./paidOrder.vue?vue&type=template&id=2438025f&scoped=true&\"\nimport script from \"./paidOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./paidOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./paidOrder.vue?vue&type=style&index=0&id=2438025f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2438025f\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\nvar TypeError = global.TypeError;\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = lengthOfArrayLike(E);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./paidOrder.vue?vue&type=style&index=0&id=2438025f&scoped=true&lang=css&\""],"sourceRoot":""}